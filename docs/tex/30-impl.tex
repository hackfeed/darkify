\chapter{Технологическая часть}

В данном разделе представлены средства разработки программного обеспечения, детали реализации и тестирование функций.

\section{Средства реализации}

В качестве языка программирования, на котором будет реализовано программное обеспечение, выбран язык TypeScript 4 \cite{ts}. Выбор языка обусловлен тем, что динамический контент на веб-страницах разрабатывается и управляется на языке JavaScript \cite{js}. TypeScript является типизированной версией JavaScript и позволяет избежать ошибок, связанных с неправильным использованием типов при разработке. На выходе TypeScript транспилируется в JavaScript.

Разработанный скрипт будет подключаться к уже существующей веб-странице. Поэтому стоит задача минимизации размера скрипта для уменьшения времени загрузки страницы.

Для минимизации размера выходного файла будет использоваться упаковщик webpack \cite{webpack}. Вместе с ts-loader \cite{tsloader} он позволяет автоматически транспилировать файлы TypeScript в JavaScript и минимизировать их размер путем сокращения названий переменных, функций, удаления пробелов в исходном коде.

Для тестирования программного обеспечения будет использоваться фреймворк \cite{framework} Jest \cite{jest}. Данный инструмент предоставляет широкие возможности для тестрования приложений, такие как разработка заглушек, имитация запросов и т.п.

Для обеспечения качества кода был использован инструмент ESLint \cite{eslint}, позволяющий во время написания кода контроллировать наличие синтаксических и логических ошибок.

В качестве среды разработки выбран текстовый редактор Visual Studio Code \cite{vscode}. Данный выбор обусловлен большим количеством плагинов под разные инструменты. Плагины позволяют облешчить и ускорить разработку программного обеспечения.

\section{Детали реализации}

В листингах \ref{lst:pagecolors} -- \ref{lst:luminance} приведены реализации алгоритмов получения цветов элементов всей страницы для последующего составления цветовой карты, конвертации цветов из RGB в HSL для последующего подбора цвета, конвертации цветов из HSL в RGB для последующего нахождения относительной яркости и нахождения относительной яркости соответственно. 

\begin{lstinputlisting}[
	caption={Реализация алгоритма получения цветов всех элементов страницы},
	label={lst:pagecolors},
	style={ES6},
	linerange={141-160},
	]{/home/hackfeed/bmstu/labs/darkify/src/darkify.ts}
\end{lstinputlisting}

\begin{lstinputlisting}[
	caption={Реализация алгоритма конвертации цвета из RGB в HSL},
	label={lst:rgbtohsl},
	style={ES6},
	linerange={17-58},
	]{/home/hackfeed/bmstu/labs/darkify/src/darkify.ts}
\end{lstinputlisting}

\begin{lstinputlisting}[
	caption={Реализация алгоритма конвертации цвета из HSL в RGB},
	label={lst:hsltorgb},
	style={ES6},
	linerange={59-110},
	]{/home/hackfeed/bmstu/labs/darkify/src/darkify.ts}
\end{lstinputlisting}

\begin{lstinputlisting}[
	caption={Реализация алгоритма нахождения относительной яркости},
	label={lst:luminance},
	style={ES6},
	linerange={111-122},
	]{/home/hackfeed/bmstu/labs/darkify/src/darkify.ts}
\end{lstinputlisting}

\section*{Вывод}

В данном разделе были представлены средства реализации программного обеспечения и листинги программного обеспечения, разработанного на основе схем конструкторского раздела.
